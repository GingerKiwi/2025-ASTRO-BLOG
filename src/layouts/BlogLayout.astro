---
import Head from "../components/Head.astro";
import Header from "../components/Header.astro";
import Footer from "../components/Footer.astro";
import { formatDate } from "../utils/formatDate.js"; // Youâ€™ll create this helper

// Props from Markdown frontmatter
const { title, description, canonical, coverImage, imageAlt, pubDate } = Astro.props;
---

<html lang="en">
  <head>
    <Head title={title} description={description} canonical={canonical} />
    <style is:global>
      @import "../styles/css-reset.css";
      @import "../styles/variables.css";
      @import "../styles/styles.css";
    </style>
  </head>

  <body>
    <Header />
    <main id="main-content" role="main">
      <article class="blog-post">
        <header>
          <h1>{title}</h1>
          {pubDate && <p class="post-date">{formatDate(pubDate)}</p>}
          {coverImage && (
            <img
              src={coverImage}
              alt={imageAlt || `Cover image for the article titled ${title}`}
              width="1200"
              height="630"
              loading="lazy"
              decoding="async"
              class="cover-image"
            />
          )}
        </header>

        <section class="post-content">
          <slot />
        </section>
      </article>
    </main>
    <Footer />
  </body>
</html>
